<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>line</title>

  <link rel="stylesheet" href="http://localhost/maptalks/dist/maptalks.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="screen.css" />
  <!-- 需要用 maptalks worker 分支下的版本 -->
  <script src="http://localhost/maptalks/dist/maptalks.js"></script>
  <script src="http://localhost/maptalksgl/dist/maptalksgl-dev.js"></script>
  <script src="../dist/maptalks.tripline-dev.js"></script>
</head>

<body>

  <div id="main">
    <div id="map2" style="width:100%;height:1000px;float:left;background-color:#fff;"></div>
    <canvas id="debug" width=512 height=512 style="float:left;border:1px red solid"></canvas>

  </div>

  <script>
    var osm = new maptalks.TileLayer('osm', {
        crossOrigin : 'anonymous',
        urlTemplate: 'http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png',
        subdomains: ['a','b','c','d'],
        attribution : '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      });

    var map = new maptalks.Map('map2', {
      center: [13.417383158075495,52.529497236675155],
      // zoom: 17.7,
      zoom : 17,
      bearing : -113.99999999999989,
      "center":[13.41722544418542,52.52952807635492],"zoom":20,"pitch":56.00000000000022,"bearing":-86.39999999999975,
      "center":[13.41722544418542,52.52952807635492],"zoom":20,"pitch":54.000000000000234,"bearing":-107.39999999999975,
      fog : false,
    });

    var data = {
        type : "FeatureCollection",
        features : [
            {
                type : "Feature",
                geometry : {
                    type : "LineString",
                    coordinates : [
                        [13.417061292993708, 52.52956332167682],
                        [13.417635229170008, 52.529564137540376],
                        [13.417635229170008, 52.529464137540376]

                        // [13.41706531630723, 52.529564627058534],
                        // [13.417135053741617, 52.52956625878565],
                        // [13.417226248848124, 52.52954504632825],
                        // [13.417290621864481, 52.52956625878565],
                        // [13.417635229170008, 52.529564137540376]
                    ]
                },
                properties : {
                    'time' : [0, 10, 20]
                }
            }
        ]
    };

    var layer = new maptalks.TriplineLayer('trips', data, {
        // trailLength : 100
        loopTime : 5,
        speed : 3,
        style : [
            {
                filter : true,
                symbol : {
                    lineColor : [0, 0, 0]
                }
            }
        ]
    }).addTo(map);

  </script>
</body>

</html>
